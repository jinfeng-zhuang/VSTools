export PATH := /opt/p111/armv7a/bin:/opt/cross-arm/linaro-64/bin:$(PATH)

CC      = armv7a-cros-linux-gnueabi-gcc
CFLAGS  = -I./include -Wall

TARGET = word
OBJS   = word.o mem_map.o pman.o g_comm_fd.o

#########################################################################
# NO Change
#########################################################################

.PHONY:all 
.PHONY:clean 

all : $(TARGET)

$(TARGET): $(OBJS)
	$(CC) -o $@ $^

%.o:%.c
	$(CC) -o $@ -c $< $(CFLAGS)

%.d:%.c
	@set -e; rm -f $@; $(CC) -MM $< > $@.$$$$; \
	sed 's,\($*\)\.o[ :]*,\1.o $@ : ,g' < $@.$$$$ > $@; \
	rm -f $@.$$$$

-include $(OBJS:.o=.d)

clean:
	rm -f $(TARGETS) *.o *.d *.d.*

